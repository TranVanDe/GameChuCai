<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Game Ch·ªØ">
    <title>Game Ch·ªØ C√°i</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel">
const { useState, useEffect, useRef } = React;

const App = () => {
  const vowels = ['A', 'ƒÇ', '√Ç', 'E', '√ä', 'I', 'O', '√î', '∆†', 'U', '∆Ø', 'Y'];
  const consonants = ['B', 'C', 'D', 'ƒê', 'G', 'H', 'K', 'L', 'M', 'N', 'P', 'Q', 'R', 'S', 'T', 'V', 'X'];
  const alphabet = [...vowels, ...consonants].sort();

  const [letters, setLetters] = useState([]);
  const [playing, setPlaying] = useState(false);
  const [timerMinutes, setTimerMinutes] = useState(3);
  const [timeLeft, setTimeLeft] = useState(0);
  const [timerRunning, setTimerRunning] = useState(false);
  const audioRef = useRef(null);
  const intervalRef = useRef(null);

  // T·∫°o √¢m thanh chu√¥ng
  useEffect(() => {
    const audioContext = new (window.AudioContext || window.webkitAudioContext)();
    const createBeep = () => {
      const oscillator = audioContext.createOscillator();
      const gainNode = audioContext.createGain();
      
      oscillator.connect(gainNode);
      gainNode.connect(audioContext.destination);
      
      oscillator.frequency.value = 800;
      oscillator.type = 'sine';
      
      gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
      gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.5);
      
      oscillator.start(audioContext.currentTime);
      oscillator.stop(audioContext.currentTime + 0.5);
    };
    
    audioRef.current = createBeep;
  }, []);

  // ƒê·∫øm ng∆∞·ª£c
  useEffect(() => {
    if (timerRunning && timeLeft > 0) {
      intervalRef.current = setInterval(() => {
        setTimeLeft(prev => {
          if (prev <= 1) {
            clearInterval(intervalRef.current);
            setTimerRunning(false);
            // K√™u chu√¥ng 3 l·∫ßn
            for (let i = 0; i < 3; i++) {
              setTimeout(() => audioRef.current(), i * 600);
            }
            return 0;
          }
          return prev - 1;
        });
      }, 1000);
    }
    
    return () => {
      if (intervalRef.current) clearInterval(intervalRef.current);
    };
  }, [timerRunning, timeLeft]);

  const getRandomFromArray = (arr) => {
    return arr[Math.floor(Math.random() * arr.length)];
  };

  const play = () => {
    let letter1, letter2;
    
    const useOneVowel = Math.random() < 0.5;
    
    if (useOneVowel) {
      letter1 = getRandomFromArray(consonants);
      letter2 = getRandomFromArray(vowels);
      if (Math.random() < 0.5) {
        [letter1, letter2] = [letter2, letter1];
      }
    } else {
      letter1 = getRandomFromArray(consonants);
      letter2 = getRandomFromArray(consonants);
      // C√≥ th·ªÉ tr√πng nhau
    }
    
    setLetters([letter1, letter2]);
    setPlaying(true);
  };

  const startTimer = () => {
    setTimeLeft(timerMinutes * 60);
    setTimerRunning(true);
  };

  const stopTimer = () => {
    setTimerRunning(false);
    if (intervalRef.current) clearInterval(intervalRef.current);
    setTimeLeft(0);
  };

  const formatTime = (seconds) => {
    const mins = Math.floor(seconds / 60);
    const secs = seconds % 60;
    return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
  };

  const getLetterColor = (letter) => {
    if (vowels.includes(letter)) {
      return 'from-red-400 to-red-600';
    }
    return 'from-blue-400 to-blue-600';
  };

  return (
    <div className="min-h-screen bg-gradient-to-br from-purple-500 via-pink-500 to-red-500 flex items-center justify-center p-4">
      <div className="bg-white rounded-3xl shadow-2xl p-8 max-w-2xl w-full">
        <h1 className="text-4xl font-bold text-center mb-8 text-gray-800">üéÆ Game Ch·ªØ C√°i</h1>
        
        {/* ƒê·ªìng h·ªì ƒë·∫øm ng∆∞·ª£c */}
        <div className="mb-8 bg-gradient-to-r from-indigo-100 to-purple-100 rounded-2xl p-6">
          <h3 className="text-xl font-semibold text-center mb-4 text-gray-800">‚è∞ ƒê·ªìng H·ªì ƒê·∫øm Ng∆∞·ª£c</h3>
          
          <div className="flex items-center justify-center gap-4 mb-4">
            <label className="text-gray-700 font-medium">Th·ªùi gian:</label>
            <input 
              type="number" 
              min="1" 
              max="60" 
              value={timerMinutes}
              onChange={(e) => setTimerMinutes(Math.max(1, Math.min(60, parseInt(e.target.value) || 1)))}
              disabled={timerRunning}
              className="w-20 px-3 py-2 border-2 border-gray-300 rounded-lg text-center font-bold text-lg focus:border-purple-500 focus:outline-none"
            />
            <span className="text-gray-700 font-medium">ph√∫t</span>
          </div>

          <div className={`text-6xl font-bold text-center mb-4 ${timeLeft <= 10 && timeLeft > 0 ? 'text-red-600 animate-pulse' : 'text-gray-800'}`}>
            {timerRunning || timeLeft > 0 ? formatTime(timeLeft) : '--:--'}
          </div>

          <div className="flex gap-3 justify-center">
            {!timerRunning && timeLeft === 0 && (
              <button 
                onClick={startTimer}
                className="bg-gradient-to-r from-green-500 to-green-600 text-white font-bold px-8 py-3 rounded-full shadow-lg hover:scale-105 transition-transform"
              >
                ‚ñ∂Ô∏è B·∫Øt ƒê·∫ßu
              </button>
            )}
            {timerRunning && (
              <button 
                onClick={stopTimer}
                className="bg-gradient-to-r from-red-500 to-red-600 text-white font-bold px-8 py-3 rounded-full shadow-lg hover:scale-105 transition-transform"
              >
                ‚èπÔ∏è D·ª´ng
              </button>
            )}
            {!timerRunning && timeLeft > 0 && (
              <>
                <button 
                  onClick={startTimer}
                  className="bg-gradient-to-r from-green-500 to-green-600 text-white font-bold px-8 py-3 rounded-full shadow-lg hover:scale-105 transition-transform"
                >
                  ‚ñ∂Ô∏è Ti·∫øp T·ª•c
                </button>
                <button 
                  onClick={stopTimer}
                  className="bg-gradient-to-r from-gray-500 to-gray-600 text-white font-bold px-8 py-3 rounded-full shadow-lg hover:scale-105 transition-transform"
                >
                  üîÑ Reset
                </button>
              </>
            )}
          </div>
        </div>

        <div className="mb-8">
          <h2 className="text-xl font-semibold mb-4 text-gray-700 text-center">B·∫£ng Ch·ªØ C√°i (29 ch·ªØ)</h2>
          <div className="text-center mb-3 text-sm text-gray-600">
            <span className="inline-block bg-blue-500 text-white px-3 py-1 rounded-full mr-2">üîµ Ph·ª• √¢m</span>
            <span className="inline-block bg-red-500 text-white px-3 py-1 rounded-full">üî¥ Nguy√™n √¢m</span>
          </div>
          <div className="grid grid-cols-7 gap-2">
            {alphabet.map((letter, i) => (
              <div
                key={i}
                className={`bg-gradient-to-br ${getLetterColor(letter)} text-white font-bold text-xl rounded-lg p-3 text-center shadow-md hover:scale-105 transition-transform`}
              >
                {letter}
              </div>
            ))}
          </div>
        </div>

        {playing && (
          <div className="mb-8 bg-gradient-to-r from-yellow-200 to-yellow-300 rounded-2xl p-8">
            <h3 className="text-2xl font-semibold text-center mb-4 text-gray-800">Ch·ªØ C√°i Random:</h3>
            <div className="flex justify-center gap-8">
              {letters.map((letter, i) => (
                <div
                  key={i}
                  className="bg-white text-6xl font-bold text-purple-600 rounded-2xl w-32 h-32 flex items-center justify-center shadow-xl animate-bounce"
                  style={{ animationDelay: `${i * 0.1}s` }}
                >
                  {letter}
                </div>
              ))}
            </div>
            <div className="text-center mt-4 text-sm text-gray-700">
              {letters.map((letter, i) => (
                <span key={i} className="mx-2">
                  <strong>{letter}</strong>: {vowels.includes(letter) ? 'üî¥ Nguy√™n √¢m' : 'üîµ Ph·ª• √¢m'}
                </span>
              ))}
            </div>
          </div>
        )}

        <div className="flex gap-4 justify-center flex-wrap">
          <button onClick={play} className="bg-gradient-to-r from-green-500 to-green-600 text-white font-bold text-xl px-12 py-4 rounded-full shadow-lg hover:scale-105 transition-transform">
            {playing ? 'üîÑ RANDOM L·∫†I' : '‚ñ∂Ô∏è PLAY'}
          </button>
          {playing && (
            <button onClick={() => setPlaying(false)} className="bg-gradient-to-r from-red-500 to-red-600 text-white font-bold text-xl px-10 py-4 rounded-full shadow-lg hover:scale-105 transition-transform">
              RESET
            </button>
          )}
        </div>

        <div className="mt-6 text-center text-gray-600 text-sm">
          üí° M·ªói l·∫ßn random s·∫Ω c√≥ <strong>√≠t nh·∫•t 1 ph·ª• √¢m</strong> trong 2 ch·ªØ<br/>
          üîî ƒê·∫∑t ƒë·ªìng h·ªì v√† b·∫Øt ƒë·∫ßu ch∆°i - s·∫Ω c√≥ chu√¥ng b√°o khi h·∫øt gi·ªù!
        </div>
      </div>
    </div>
  );
};

ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>
